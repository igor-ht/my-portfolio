@use "@/style/main" as *;

@mixin generate-dialog-keyframes($name) {
  @keyframes #{$name} {
    from {
      @include general-properties(0%, 100dvh, rgba(230, 230, 230, 0.276));
      transform: translateX(100dvw);
      opacity: 0;
    }
    to {
      @include general-properties(100%, 100dvh, rgb(230 230 230));
      transform: translateX(0);
      opacity: 1;
    }
  }
}

@include generate-dialog-keyframes(FillScreen);
@include generate-dialog-keyframes(ExitScreen);

.project {
  @include general-properties(100%, 60dvh);
  max-height: 60dvh;
  background:
    linear-gradient(rgb(69 69 69), rgb(136 136 136)) padding-box,
    linear-gradient(to left, rgb(83 69 69), rgb(49 45 45)) border-box;
  border-radius: 15px;
  border: 2px solid transparent;
  box-shadow: 0px 0px 15px 0px gray;
  display: none;

  &:first-child {
    @include display-flex();
  }

  .project-card {
    @include general-properties(100%, 100%);
    @include display-flex(column, center);

    img {
      @include image(98%, 65%, cover);
      border-radius: 10px;
      margin: 0.2rem 0.2rem 0;
      box-shadow: 0px 5px 5px 0px #393939;

      @include media-query($media-md) {
        height: 60%;
      }
    }
    .card-intro {
      @include general-properties(100%, 100%);
      @include display-flex(column, center, space-evenly);
      overflow: hidden;
      flex: 1;

      h1 {
        @include font($fontKarla, 2rem, $color, center);
      }

      p {
        @include font($fontInconsolata, 1rem, $color, justify);
        max-width: 95%;
        text-overflow: ellipsis;
      }
      .read-more {
        @include font($fontInconsolata, 1rem, $color, justify);
        text-decoration: underline;
      }

      @include media-query($media-md) {
        justify-content: center;
        p {
          line-height: 1.2;
        }
      }
    }
  }
  dialog[open] {
    @include general-properties(100dvw, 100dvh, rgb(230 230 230));
    @include display-flex(column, center);
    top: 0;
    z-index: 9999;
    overflow: hidden;

    .dialog-header {
      @include general-properties(100%, auto);
      @include display-flex(row, center);

      button.close-modal {
        @include general-properties(auto, auto);
        position: absolute;
        top: 1%;
        left: 0.5%;

        img {
          @include image(3rem, 3rem, cover);
        }
      }
      .project-title {
        @include font($fontPoiretOne, 4rem, $color, center);
        width: 100%;
        margin: 1.5rem 0 1rem 0;

        @include media-query($media-md) {
          font-size: 3rem;
          margin: 0;
        }
      }
    }

    .project-display {
      @include general-properties(100%, auto);
      @include display-flex(row, flex-start);
      overflow: hidden;
      position: relative;

      @include media-query($media-md) {
        overflow-y: auto;
        margin: 0 0 0.5rem 0;
      }

      &::-webkit-scrollbar {
        @include general-properties(0.5rem, auto, #888);
        border: 0;

        &:hover {
          width: 0.6rem;
        }
      }
      &::-webkit-scrollbar-thumb {
        background-color: $accent;
      }

      .project-wrapper {
        @include general-properties(100%, auto);
        @include display-flex(row, stretch);
        overflow: hidden;

        @include media-query($media-md) {
          @include display-flex(column-reverse);
          height: auto;
        }
      }

      .video-stack {
        @include general-properties(45%, auto);
        @include display-flex(column, center);
        flex: 1;
        max-width: 45%;
        gap: 0.5rem;
        margin: 0.3rem;

        @include media-query($media-md) {
          @include general-properties(95%, 100%);
          max-width: 95%;
          margin: 0;
          overflow: hidden;
        }

        .videoplayer {
          @include general-properties(95%, auto);

          @include media-query($media-md) {
            width: 100%;
          }

          .react-player {
            .thumbnail {
              @include image(100%, 100%, cover);
              aspect-ratio: 1366/728;
            }
          }
        }
        .tech-tags {
          @include general-properties(85%, auto);
          @include display-flex(row, center, space-evenly);
          flex-wrap: wrap;
          gap: 0.5rem;
          margin: 0.5rem;

          .tag {
            border-radius: 10px;
            background-color: rgb(194, 193, 192);
            min-width: 60px;
            min-height: 25px;
            box-shadow: 0px 0px 5px 0px #6d6c6c;

            p {
              @include font($fontMontserrat, 1rem, $color, center);
              font-weight: 600;
              width: max-content;
              margin: auto;
              padding: 0 0.5rem 0;
            }
          }
          @include media-query($media-md) {
            width: 100%;
            margin: 0.5rem 0 0.3rem 0;
          }
        }
      }
      .description-links {
        @include general-properties(55%, auto);
        @include display-flex(column, center, space-between);
        flex: 1;
        margin: 0.2rem;

        &::-webkit-scrollbar {
          @include general-properties(0.5rem, auto, #888);
        }
        &::-webkit-scrollbar-thumb {
          background-color: $accent;
        }

        @include media-query($media-md) {
          @include general-properties(95%, auto);
          margin: 0;
          overflow: hidden;
        }

        .description {
          max-width: 100%;
          align-self: flex-start;
          p {
            @include font($fontMontserrat, 1rem, $color, justify);
          }
        }
        .links {
          @include display-flex(row, center, center);
          gap: 4rem;
          margin: 1rem;

          @include media-query($media-md) {
            gap: 2rem;
          }

          .urls {
            height: auto;
            button {
              @include general-properties(9rem, 2.5rem, rgb(186, 186, 186));
              @include display-flex(row, center, center);
              gap: 0.5rem;
              border: 1px solid gray;
              border-radius: 5px;
              box-shadow: 0px 0px 4px 1px black;
              p {
                @include font($fontMontserrat, 1.1rem, $color, center);
              }
              &:hover {
                background-color: rgb(146, 146, 146);
                box-shadow: 0px 0px 6px 1px black;
              }
              &:active {
                background-color: rgb(127, 127, 127);
                box-shadow: 0px 0px 9px 1px black;
              }
            }
          }
        }
      }
    }
  }
}
